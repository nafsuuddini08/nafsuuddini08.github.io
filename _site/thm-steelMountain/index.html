<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.15.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>THM - SteelMountain - bynafrez08.io</title>
<meta name="description" content="Steelmountain is windows machine inspired by the mr.robot serie, first we have a little osint challenge we need to indentify the person on the image on the website…">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="bynafrez08.io">
<meta property="og:title" content="THM - SteelMountain">
<meta property="og:url" content="http://localhost:4000/thm-steelMountain/">


  <meta property="og:description" content="Steelmountain is windows machine inspired by the mr.robot serie, first we have a little osint challenge we need to indentify the person on the image on the website…">



  <meta property="og:image" content="http://localhost:4000/assets/images/img-steelMountain/portada.jpeg">





  <meta property="article:published_time" content="2022-08-02T00:00:00-04:00">





  

  


<link rel="canonical" href="http://localhost:4000/thm-steelMountain/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "",
      "url": "http://localhost:4000",
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="bynafrez08.io Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



   <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single wide">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
                
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/" >Home</a>
            </li><li class="masthead__menu-item">
              <a href="/year-archive/" >Article</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/" >Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/" >Tags</a>
            </li><li class="masthead__menu-item">
              <a href="/buscador/" >Search</a>
            </li><li class="masthead__menu-item">
              <a href="/about/" >About</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>
    

    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        <li class="current">THM - SteelMountain</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      

      
        <img src="/assets/images/avatar1.png" alt="Nafsu Uddin | AKA bynafrez" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Nafsu Uddin | AKA bynafrez</h3>
    
    
      <p class="author__bio" itemprop="description">
        Networking / Pentesting / Offensive Security
      </p>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name">Spain</span>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      
        <li>
          <a href="https://github.com/bynafrez08" itemprop="sameAs" rel="nofollow noopener noreferrer">
            <i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub
          </a>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="THM - SteelMountain">
    <meta itemprop="description" content="Steelmountain is windows machine inspired by the mr.robot serie, first we have a little osint challenge we need to indentify the person on the image on the website…">
    <meta itemprop="datePublished" content="August 02, 2022">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">THM - SteelMountain
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
        <p class="page__meta">
          
            <i class="fa fa-fw fa-calendar" aria-hidden="true"></i> <time datetime="2022-08-02T00:00:00-04:00">August 02, 2022 </time>&emsp;
          
          
        </p>
        <p>Steelmountain is windows machine inspired by the mr.robot serie, first we have a little osint challenge we need to indentify the person on the image on the website, then we exploit the CVE-2014-6287  to gain access to the target machine and finally we utilise powershell for privESC enumeration to gain access as a admin.</p>

<p align="center">
<img src="/assets/images/img-steelMountain/portada.jpeg" />
</p>

<p>First we going to create a directory with the name of the target machine and inside of that directory with <strong><em>mkt</em></strong> we going to create the following directories to organize the content.</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p>mkt is a function that i have defined on my <strong><em>~/.zshrc</em></strong>, the function is the following:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mkt(){
	mkdir {nmap,content,exploits,scripts}
  }
</code></pre></div></div>

<p>And if we send one icmp trace on the target machine we receive a connection, and remember that the linux machine have 64 TTL and windows have 128 TTL and sometimes this values can decrease one digit or more and this because of traceroute. we can check this by using the flag <strong><em>-R</em></strong> on the ping command, in the case of windows this flag doesn’t apply.</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura2.png" />
</p>

<h2 id="scanning">Scanning</h2>

<p>This is the nmap scan result with the following ports that i have discovered with a previous scan. We can see the following ports with versions of the services and the nmap scan reports us that the smb is not signed, so this can be useful to enumerate hosts or the target machine with the smb protocol.</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura3.png" />
</p>

<p>We can use crackmapexec using the smb protocol to know what version of windows is using, this can be useful when we need to search for certain exploit or vulnerablity with a specific version of windows.</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura4.png" />
</p>

<p>So one of the challenges in this machine is to identify the person of the picture on the website.</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura5.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura6.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura7.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura8.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura9.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>

<p align="center">
<img src="/assets/images/img-steelMountain/captura1.png" />
</p>


        
      </section>

      <footer class="page__meta">
        
        
  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/tags/#cve" class="page__taxonomy-item" rel="tag">CVE</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#powershell" class="page__taxonomy-item" rel="tag">Powershell</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#tryhackme" class="page__taxonomy-item" rel="tag">Tryhackme</a><span class="sep">, </span>
    
      
      
      <a href="/tags/#windows" class="page__taxonomy-item" rel="tag">Windows</a>
    
    </span>
  </p>




  


  
  
  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      
      
      <a href="/categories/#ctf" class="page__taxonomy-item" rel="tag">CTF</a>
    
    </span>
  </p>


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Fecha:</strong> <time datetime="2022-08-02T00:00:00-04:00">August 02, 2022</time></p>
        
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/htb-paper/" class="pagination--pager" title="HTB - Paper
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
</div>

    </div>

    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 bynafrez08.io</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script data-search-pseudo-elements defer src="https://use.fontawesome.com/releases/v5.7.1/js/all.js" integrity="sha384-eVEQC9zshBn0rFj4+TU78eNA19HMNigMviK/PU/FFjLXqa/GKPgX58rvt5Z8PLs7" crossorigin="anonymous"></script>








  </body>
</html>
